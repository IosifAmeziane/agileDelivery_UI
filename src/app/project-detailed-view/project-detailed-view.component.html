<app-menu></app-menu>
<div class="container mt-1">
  <div class="panel">
    <div class="panel-heading">
      <h2> Project details </h2>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-lg-6">
          <div> Name : {{project.name}}</div>
        </div>
        <div class="col-lg-6">
          <div> Description : {{project.description}}</div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 m-2">
          <h3>Assigned users</h3>
          <div class="panel-body">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>
                Username
              </th>
              <th>
                User email
              </th>
              <th>
                User role
              </th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let user of project.assignedUsers">
              <td>{{user.name}}</td>
              <td>{{user.emailAddress}}</td>
              <td>{{user.roles[0]}}</td>
            </tr>
            </tbody>
          </table>
        </div>
       </div>
      </div>
    </div>
    <div class="panel-body">

      <h3>Search and invite users</h3>
      <form class="form-group">
        <input type="text" (keyup)="findUserByEmail($event)"
               class="form-control mt-5"
               placeholder="Search users by email">
      </form>
      <div *ngIf="user">
        <div class="card" style="width: 18rem;">
          <div class="card-body">
            <h5 class="card-title">{{user.username}}</h5>
            <p class="card-text">{{user.email}}</p>
            <button class="btn btn-sm btn-info" (click)="inviteUser(user.username)"> Invite user </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
